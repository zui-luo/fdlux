<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>APPç»„ç»‡æ¶æ„æ¨¡æ‹Ÿ</title>
    <style>
        :root {
            --bg-color: #ffffff;
            --app-bg: #f5f5f5;
            --text-main: #111111;
            --text-sub: #888888;
            --line-color: #eeeeee;
            --blue: #1677ff;
            --folder-color: #ffc107;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #e0e0e0; /* æµè§ˆå™¨èƒŒæ™¯ */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* æ‰‹æœºå®¹å™¨æ¨¡æ‹Ÿ */
        .mobile-container {
            width: 375px;
            height: 750px; /* iPhone SE/Mini å°ºå¯¸ */
            background-color: var(--bg-color);
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 12px;
        }

        /* é¡µé¢é€šç”¨æ ·å¼ */
        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .page.hidden {
            transform: translateX(100%);
            pointer-events: none;
        }

        .page.active {
            transform: translateX(0);
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .navbar {
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 12px;
            border-bottom: 0.5px solid transparent;
            font-size: 17px;
            font-weight: 500;
            background: white;
            z-index: 10;
        }

        .nav-left {
            width: 80px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .back-icon {
            width: 10px;
            height: 18px;
            background-color: #000;
            -webkit-mask: url("data:image/svg+xml,%3Csvg width='12' height='24' viewBox='0 0 12 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 22L1.5 12L10.5 2' stroke='black' stroke-width='2' fill='none'/%3E%3C/svg%3E") no-repeat center;
            mask: url("data:image/svg+xml,%3Csvg width='12' height='24' viewBox='0 0 12 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 22L1.5 12L10.5 2' stroke='black' stroke-width='2' fill='none'/%3E%3C/svg%3E") no-repeat center;
        }

        .nav-title {
            flex: 1;
            text-align: center;
        }

        /* æ¨¡æ‹Ÿå³ä¸Šè§’èƒ¶å›ŠæŒ‰é’® */
        .capsule {
            width: 80px;
            height: 30px;
            border: 1px solid #e0e0e0;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 8px;
        }
        .capsule-dot { width: 4px; height: 4px; background: #000; border-radius: 50%; box-shadow: 6px 0 0 #000, -6px 0 0 #000; }
        .capsule-line { width: 1px; height: 18px; background: #e0e0e0; }
        .capsule-circle { width: 16px; height: 16px; border: 1.5px solid #000; border-radius: 50%; position: relative; }
        .capsule-circle::after { content:''; position: absolute; width:6px; height:6px; background:#000; border-radius:50%; top:50%; left:50%; transform:translate(-50%, -50%); }

        /* æœç´¢æ¡† */
        .search-area {
            padding: 8px 16px;
            background: #fff;
        }
        .search-input-wrapper {
            background: #f5f5f5;
            border-radius: 8px;
            height: 36px;
            display: flex;
            align-items: center;
            padding: 0 12px;
        }
        .search-icon {
            color: #999;
            margin-right: 6px;
            font-size: 14px;
        }
        .search-input {
            border: none;
            background: transparent;
            font-size: 14px;
            width: 100%;
            outline: none;
            color: var(--text-main);
        }

        /* åˆ—è¡¨åŒºåŸŸ */
        .content-scroll {
            flex: 1;
            overflow-y: auto;
            background-color: #fff;
        }
        
        .section-title {
            font-size: 12px;
            color: var(--text-sub);
            padding: 20px 16px 8px;
            background: #fff;
        }

        /* åˆ—è¡¨é¡¹: è§’è‰²ç»„ (æ–‡ä»¶å¤¹) */
        .list-item {
            display: flex;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid #f8f8f8;
            cursor: pointer;
            background: #fff;
            transition: background 0.1s;
        }
        .list-item:active { background: #f9f9f9; }

        .folder-icon {
            width: 28px;
            height: 24px;
            margin-right: 12px;
            fill: var(--folder-color);
        }
        .item-text {
            flex: 1;
            font-size: 16px;
            color: var(--text-main);
        }
        .arrow-icon {
            color: #ccc;
            font-size: 12px;
            transition: transform 0.2s;
        }

        /* å±•å¼€çŠ¶æ€ */
        .role-group.expanded .arrow-icon {
            transform: rotate(90deg);
        }
        .sub-list {
            display: none;
            background-color: #fcfcfc;
        }
        .role-group.expanded .sub-list {
            display: block;
        }

        /* å­é¡¹: å…·ä½“è§’è‰² */
        .role-item {
            padding: 14px 16px 14px 56px; /* ç¼©è¿› */
            border-bottom: 1px solid #f8f8f8;
            color: #333;
            font-size: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        .role-item:active { background: #f0f0f0; }
        .role-item::after {
            content: 'â€º';
            color: #ccc;
            font-size: 18px;
            line-height: 1;
        }

        /* å¦‚æœæœç´¢æ— ç»“æœ */
        .hidden { display: none !important; }

        /* --- Page 2 ç‹¬æœ‰æ ·å¼ --- */
        .role-info-header {
            padding: 4px 16px 12px;
            display: flex;
            align-items: center;
            font-size: 13px;
            color: var(--blue);
        }
        .role-icon-small { margin-right: 6px; }

        .member-list-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid #f8f8f8;
        }
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e6f7ff;
            color: var(--blue);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            font-weight: bold;
            margin-right: 12px;
        }
        /* éšæœºä¸åŒé¢œè‰²çš„å¤´åƒç±» */
        .avatar.c1 { background: #e6f7ff; color: #1677ff; }
        .avatar.c2 { background: #f6ffed; color: #52c41a; }
        .avatar.c3 { background: #fff7e6; color: #fa8c16; }

        .member-info { flex: 1; }
        .member-name { font-size: 16px; color: #333; margin-bottom: 2px; }
        .member-id { font-size: 12px; color: #999; }

        .bottom-btn-area {
            padding: 16px;
            background: #fff;
            border-top: 1px solid #eee;
            /* iPhone Bottom Safe Area */
            padding-bottom: max(16px, env(safe-area-inset-bottom));
        }
        
        .primary-btn {
            background-color: var(--blue);
            color: white;
            border: none;
            width: 100%;
            height: 44px;
            border-radius: 6px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        .primary-btn:active { opacity: 0.9; }

    </style>
</head>
<body>

<div class="mobile-container">

    <!-- PAGE 1: è§’è‰²ç»„åˆ—è¡¨ -->
    <div class="page active" id="page1">
        <!-- å¯¼èˆªæ  -->
        <div class="navbar">
            <div class="nav-left">
                <div class="back-icon"></div>
            </div>
            <div class="nav-title">è§’è‰²</div>
            <div class="capsule">
                <div class="capsule-dot"></div>
                <div class="capsule-line"></div>
                <div class="capsule-circle"></div>
            </div>
        </div>

        <!-- æœç´¢ -->
        <div class="search-area">
            <div class="search-input-wrapper">
                <span class="search-icon">ğŸ”</span>
                <input type="text" class="search-input" id="searchRoles" placeholder="æœç´¢è§’è‰²">
            </div>
        </div>

        <!-- åˆ—è¡¨å†…å®¹ -->
        <div class="content-scroll" id="roleListContainer">
            <!-- åŒºåŸŸ 1 -->
            <div class="section-group">
                <div class="section-title">åŒæ­¥çš„è§’è‰²</div>
                
                <!-- è§’è‰²ç»„ 1 -->
                <div class="role-group" data-group-name="è·¨éƒ¨é—¨è§’è‰²">
                    <div class="list-item group-trigger">
                        <svg class="folder-icon" viewBox="0 0 1024 1024" width="24" height="24">
                            <path d="M880 298.4H521L423.4 186.2c-1.5-1.7-3.6-2.6-5.8-2.6H144c-17.7 0-32 14.3-32 32v592.8c0 17.7 14.3 32 32 32H880c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z" fill="#FFC107"/>
                        </svg>
                        <span class="item-text">è·¨éƒ¨é—¨è§’è‰²</span>
                        <span class="arrow-icon">â–¶</span>
                    </div>
                    <div class="sub-list">
                        <div class="role-item" data-role="é¡¹ç›®ç»ç†">é¡¹ç›®ç»ç†</div>
                        <div class="role-item" data-role="æŠ€æœ¯é¡¾é—®">æŠ€æœ¯é¡¾é—®</div>
                    </div>
                </div>

                <!-- è§’è‰²ç»„ 2 -->
                <div class="role-group" data-group-name="å…¬å…±æ”¯æ’‘è§’è‰²">
                    <div class="list-item group-trigger">
                        <svg class="folder-icon" viewBox="0 0 1024 1024" width="24" height="24">
                            <path d="M880 298.4H521L423.4 186.2c-1.5-1.7-3.6-2.6-5.8-2.6H144c-17.7 0-32 14.3-32 32v592.8c0 17.7 14.3 32 32 32H880c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z" fill="#FFC107"/>
                        </svg>
                        <span class="item-text">å…¬å…±æ”¯æ’‘è§’è‰²</span>
                        <span class="arrow-icon">â–¶</span>
                    </div>
                    <div class="sub-list">
                        <div class="role-item" data-role="HRBP">HRBP</div>
                        <div class="role-item" data-role="è¡Œæ”¿ä¸“å‘˜">è¡Œæ”¿ä¸“å‘˜</div>
                    </div>
                </div>
            </div>

            <!-- åŒºåŸŸ 2 -->
             <div class="section-group">
                <div class="section-title">åˆ›å»ºçš„è§’è‰²</div>
                
                <!-- è§’è‰²ç»„ 3 -->
                <div class="role-group" data-group-name="ä¸­çº§è§’è‰²">
                    <div class="list-item group-trigger">
                         <svg class="folder-icon" viewBox="0 0 1024 1024" width="24" height="24">
                            <path d="M880 298.4H521L423.4 186.2c-1.5-1.7-3.6-2.6-5.8-2.6H144c-17.7 0-32 14.3-32 32v592.8c0 17.7 14.3 32 32 32H880c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z" fill="#FFC107"/>
                        </svg>
                        <span class="item-text">ä¸­çº§è§’è‰²</span>
                        <span class="arrow-icon">â–¶</span>
                    </div>
                    <div class="sub-list">
                        <div class="role-item" data-role="ç»¼åˆäº‹åŠ¡">ç»¼åˆäº‹åŠ¡</div>
                        <div class="role-item" data-role="ä¸šåŠ¡ä¸»ç®¡">ä¸šåŠ¡ä¸»ç®¡</div>
                    </div>
                </div>
                 <!-- è§’è‰²ç»„ 4 -->
                <div class="role-group" data-group-name="åˆçº§è§’è‰²">
                    <div class="list-item group-trigger">
                         <svg class="folder-icon" viewBox="0 0 1024 1024" width="24" height="24">
                            <path d="M880 298.4H521L423.4 186.2c-1.5-1.7-3.6-2.6-5.8-2.6H144c-17.7 0-32 14.3-32 32v592.8c0 17.7 14.3 32 32 32H880c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z" fill="#FFC107"/>
                        </svg>
                        <span class="item-text">åˆçº§è§’è‰²</span>
                        <span class="arrow-icon">â–¶</span>
                    </div>
                    <div class="sub-list">
                        <div class="role-item" data-role="å®ä¹ ç”Ÿ">å®ä¹ ç”Ÿ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 2: æˆå‘˜é¡µé¢ -->
    <div class="page hidden" id="page2">
         <!-- å¯¼èˆªæ  -->
        <div class="navbar">
            <div class="nav-left" id="btnBack">
                <div class="back-icon"></div>
            </div>
            <div class="nav-title" id="page2Title">ç»¼åˆäº‹åŠ¡</div>
            <div class="capsule">
                <div class="capsule-dot"></div>
                <div class="capsule-line"></div>
                <div class="capsule-circle"></div>
            </div>
        </div>

        <div class="role-info-header">
            <span class="role-icon-small">ğŸ‘¤</span> æŠ€æœ¯è¯ä¹¦æŒæœ‰äºº
        </div>

        <!-- æœç´¢ -->
        <div class="search-area">
            <div class="search-input-wrapper">
                <span class="search-icon">ğŸ”</span>
                <input type="text" class="search-input" id="searchMembers" placeholder="æœç´¢æˆå‘˜">
            </div>
        </div>

        <!-- æˆå‘˜åˆ—è¡¨ (åŠ¨æ€å†…å®¹) -->
        <div class="content-scroll" id="memberList">
            <!-- ç¤ºä¾‹æ•°æ® -->
            <div class="member-list-item" data-name="ænico">
                <div class="avatar c1">æ</div>
                <div class="member-info">
                    <div class="member-name">ænico</div>
                    <div class="member-id">nico</div>
                </div>
            </div>
             <div class="member-list-item" data-name="åˆ˜nico">
                <div class="avatar c2">åˆ˜</div>
                <div class="member-info">
                    <div class="member-name">åˆ˜nico</div>
                    <div class="member-id">nico_liu</div>
                </div>
            </div>
             <div class="member-list-item" data-name="ç‹nico">
                <div class="avatar c3">ç‹</div>
                <div class="member-info">
                    <div class="member-name">ç‹nico</div>
                    <div class="member-id">nico_wang</div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨æŒ‰é’® -->
        <div class="bottom-btn-area">
            <button class="primary-btn">æ·»åŠ æˆå‘˜</button>
        </div>
    </div>

</div>

<script>
    // ä¸»è¦é€»è¾‘
    document.addEventListener('DOMContentLoaded', () => {
        const page1 = document.getElementById('page1');
        const page2 = document.getElementById('page2');
        const searchRoles = document.getElementById('searchRoles');
        const searchMembers = document.getElementById('searchMembers');
        const btnBack = document.getElementById('btnBack');
        const page2Title = document.getElementById('page2Title');

        // --- Page 1 é€»è¾‘ ---
        
        // 1. æ–‡ä»¶å¤¹æŠ˜å /å±•å¼€
        document.querySelectorAll('.group-trigger').forEach(trigger => {
            trigger.addEventListener('click', (e) => {
                const group = e.target.closest('.role-group');
                group.classList.toggle('expanded');
            });
        });

        // 2. ç‚¹å‡»è§’è‰²è¿›å…¥ Page 2
        document.querySelectorAll('.role-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.stopPropagation();
                const roleName = e.target.getAttribute('data-role');
                // è®¾ç½®ç¬¬äºŒé¡µæ ‡é¢˜
                page2Title.innerText = roleName;
                
                // æ¨¡æ‹Ÿæ ¹æ®è§’è‰²åˆ·æ–°æˆå‘˜åˆ—è¡¨ (è¿™é‡Œä»…ä»…æ˜¯é‡ç½®æœç´¢çŠ¶æ€)
                resetPage2();

                // åˆ‡æ¢é¡µé¢åŠ¨ç”»
                page1.classList.remove('active');
                page1.classList.add('hidden');
                
                // ç¨å¾®å»¶è¿Ÿä¸€ä¸¢ä¸¢æ˜¾ç¤ºï¼Œè®©åŠ¨ç”»æ›´é¡ºç•…
                setTimeout(() => {
                    page2.classList.remove('hidden');
                    page2.classList.add('active');
                }, 50);
            });
        });

        // 3. Page 1 æœç´¢é€»è¾‘
        searchRoles.addEventListener('input', (e) => {
            const keyword = e.target.value.trim().toLowerCase();
            const groups = document.querySelectorAll('.role-group');

            groups.forEach(group => {
                const groupName = group.getAttribute('data-group-name').toLowerCase();
                const items = group.querySelectorAll('.role-item');
                let hasVisibleChild = false;

                // æ£€æŸ¥å­é¡¹
                items.forEach(item => {
                    const itemName = item.getAttribute('data-role').toLowerCase();
                    if (itemName.includes(keyword)) {
                        item.classList.remove('hidden');
                        hasVisibleChild = true;
                    } else {
                        item.classList.add('hidden');
                    }
                });

                // åˆ¤æ–­é€»è¾‘ï¼š
                // 1. å¦‚æœæœç´ è¯ä¸ºç©º -> æ˜¾ç¤ºæ‰€æœ‰ï¼ŒæŠ˜å èµ·æ¥
                // 2. å¦‚æœå­é¡¹åŒ¹é… -> å±•å¼€æ–‡ä»¶å¤¹ï¼Œæ˜¾ç¤ºçˆ¶çº§
                // 3. å¦‚æœçˆ¶çº§åå­—åŒ¹é… -> æ˜¾ç¤ºçˆ¶çº§ï¼Œå±•å¼€å­çº§ï¼Œæ˜¾ç¤ºæ‰€æœ‰å­çº§ï¼ˆæˆ–è€…åªæ˜¾ç¤ºåŒ¹é…çš„ï¼Œè¿™é‡Œç­–ç•¥æ˜¯æ˜¾ç¤ºæ‰€æœ‰å­çº§è¾ƒå¥½ï¼Œä½†ä¸ºäº†ç®€å•ï¼Œæˆ‘ä»¬è®©çˆ¶çº§åŒ¹é…æ—¶æ˜¾å¼æ‰€æœ‰å­çº§ï¼‰
                
                if (keyword === '') {
                    group.classList.remove('hidden');
                    group.classList.remove('expanded'); // æ¢å¤æŠ˜å 
                    items.forEach(i => i.classList.remove('hidden'));
                    return;
                }

                if (groupName.includes(keyword)) {
                    // æ–‡ä»¶å¤¹åå­—åŒ¹é…
                    group.classList.remove('hidden');
                    group.classList.add('expanded');
                    items.forEach(i => i.classList.remove('hidden'));
                } else if (hasVisibleChild) {
                    // å­é¡¹åŒ¹é…
                    group.classList.remove('hidden');
                    group.classList.add('expanded');
                } else {
                    // éƒ½ä¸åŒ¹é…
                    group.classList.add('hidden');
                }
            });
        });

        // --- Page 2 é€»è¾‘ ---

        // è¿”å›æŒ‰é’®
        btnBack.addEventListener('click', () => {
            page2.classList.remove('active');
            page2.classList.add('hidden');
            
            page1.classList.remove('hidden');
            page1.classList.add('active');
        });

        // Page 2 æœç´¢é€»è¾‘
        searchMembers.addEventListener('input', (e) => {
            const val = e.target.value.trim().toLowerCase();
            const members = document.querySelectorAll('.member-list-item');
            
            members.forEach(m => {
                const name = m.getAttribute('data-name').toLowerCase();
                if (name.includes(val)) {
                    m.classList.remove('hidden');
                } else {
                    m.classList.add('hidden');
                }
            });
        });

        function resetPage2() {
            searchMembers.value = '';
            document.querySelectorAll('.member-list-item').forEach(m => m.classList.remove('hidden'));
        }

    });
</script>

</body>
</html>